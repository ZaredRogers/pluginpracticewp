{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;ACNyD;AACK;AACJ;AACiC;AACrC;AAE/C,SAASY,YAAYA,CAAAC,IAAA,EAAyC;EAAA,IAAvC;IAAEC,MAAM;IAAEC,QAAQ;IAAEC;EAAe,CAAC,GAAAH,IAAA;EAC9D,MAAM;IAAEI,IAAI;IAAEC,SAAS;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGpB,0DAAS,CACnDqB,MAAM,KAAQ;IACZJ,IAAI,EAAEI,MAAM,CAAElB,uDAAc,CAAC,CAACmB,qBAAqB,CAAE,UAAU,EAAE,MAAM,EAAER,MAAO,CAAC;IACjFI,SAAS,EAAEG,MAAM,CAAElB,uDAAc,CAAC,CAACoB,sBAAsB,CAAE,UAAU,EAAE,MAAM,EAAET,MAAO,CAAC;IACvFK,QAAQ,EAAEE,MAAM,CAAElB,uDAAc,CAAC,CAACqB,oBAAoB,CAAE,UAAU,EAAE,MAAM,EAAEV,MAAO,CAAC;IACpFM,QAAQ,EAAEC,MAAM,CAAElB,uDAAc,CAAC,CAACsB,uBAAuB,CAAE,UAAU,EAAE,MAAM,EAAEX,MAAO;EAC1F,CAAC,CAAE,EACH,CAAEA,MAAM,CACZ,CAAC;EAED,MAAM;IAAEY,sBAAsB;IAAEC;EAAiB,CAAC,GAAG1B,4DAAW,CAAEE,uDAAc,CAAC;EACjF,MAAMyB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,WAAW,GAAG,MAAMH,sBAAsB,CAAE,UAAU,EAAE,MAAM,EAAEZ,MAAO,CAAC;IAC9E,IAAKe,WAAW,EAAG;MACfb,cAAc,CAAC,CAAC;IACpB;EACJ,CAAC;EACD,MAAMc,YAAY,GAAKC,KAAK,IAAOJ,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAEV,IAAI,CAACe,EAAE,EAAE;IAAED;EAAM,CAAE,CAAC;EAE7F,OACIE,iEAAA;IAAKC,SAAS,EAAC;EAAmB,GAC9BD,iEAAA,CAACzB,8DAAW;IACR2B,KAAK,EAAC,aAAa;IACnBC,KAAK,EAAGnB,IAAI,CAACc,KAAO;IACpBM,QAAQ,EAAGP;EAAc,CAC5B,CAAC,EACAZ,SAAS,GACPe,iEAAA;IAAKC,SAAS,EAAC;EAAY,GAAC,SAAO,EAAEhB,SAAS,CAACoB,OAAc,CAAC,GAE9D,KACH,EACDL,iEAAA;IAAKC,SAAS,EAAC;EAAc,GACzBD,iEAAA,CAAC1B,yDAAM;IACHgC,OAAO,EAAGX,UAAY;IACtBY,OAAO,EAAC,SAAS;IACjBC,QAAQ,EAAG,CAAErB,QAAQ,IAAID;EAAU,GAEjCA,QAAQ,GACNc,iEAAA,CAAAS,wDAAA,QACIT,iEAAA,CAAC3B,0DAAO,MAAC,CAAC,UAEZ,CAAC,GACH,MACA,CAAC,EACT2B,iEAAA,CAAC1B,yDAAM;IACHgC,OAAO,EAAGxB,QAAU;IACpByB,OAAO,EAAC,UAAU;IAClBC,QAAQ,EAAGtB;EAAU,GACxB,QAEO,CACP,CACJ,CAAC;AAEd;AAEA,SAASwB,cAAcA,CAAAC,KAAA,EAAe;EAAA,IAAb;IAAE9B;EAAO,CAAC,GAAA8B,KAAA;EAC/B,MAAM,CAAEC,MAAM,EAAEC,OAAO,CAAE,GAAGpC,4DAAQ,CAAE,KAAM,CAAC;EAC7C,MAAMqC,SAAS,GAAGA,CAAA,KAAMD,OAAO,CAAE,IAAK,CAAC;EACvC,MAAME,UAAU,GAAGA,CAAA,KAAMF,OAAO,CAAE,KAAM,CAAC;EACzC,OACIb,iEAAA,CAAAS,wDAAA,QACIT,iEAAA,CAAC1B,yDAAM;IAACgC,OAAO,EAAGQ,SAAW;IAACP,OAAO,EAAC;EAAS,GAAC,MAExC,CAAC,EACPK,MAAM,IACJZ,iEAAA,CAACxB,wDAAK;IAACwC,cAAc,EAAGD,UAAY;IAACjB,KAAK,EAAC;EAAW,GAClDE,iEAAA,CAACrB,YAAY;IACTE,MAAM,EAAGA,MAAQ;IACjBC,QAAQ,EAAGiC,UAAY;IACvBhC,cAAc,EAAGgC;EAAY,CAChC,CACE,CAEb,CAAC;AAEX;AAEO,SAASE,gBAAgBA,CAAAC,KAAA,EAAmB;EAAA,IAAlB;IAAEC;EAAa,CAAC,GAAAD,KAAA;EAC7C,MAAM,CAACpB,KAAK,EAAEsB,QAAQ,CAAC,GAAG3C,4DAAQ,CAAE0C,YAAa,CAAC;EAClD,OACInB,iEAAA,CAACzB,8DAAW;IACR4B,KAAK,EAAGL,KAAO;IACfM,QAAQ,EAAGgB;EAAU,CACxB,CAAC;AAEV;AAEA,SAASC,UAAUA,CAAA,EAAG;EAClB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG9C,4DAAQ,CAAE,EAAG,CAAC;EAClD,MAAM+C,KAAK,GAAG,CAAC,CAAC;EAChB,IAAIF,UAAU,EAAE;IACZE,KAAK,CAACC,MAAM,GAAGH,UAAU;EAC7B;EAIA,MAAM;IAAEI,KAAK;IAAEC;EAAY,CAAC,GAAG5D,0DAAS,CAClCqB,MAAM,IAAM;IACV,OAAO;MACHsC,KAAK,EAAEtC,MAAM,CAAElB,uDAAc,CAAC,CAAC0D,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAEJ,KAAM,CAAC;MAC5EG,WAAW,EAAEvC,MAAM,CAAElB,uDAAc,CAAC,CAAC2D,qBAAqB,CAAE,kBAAkB,EAAE,CAAE,UAAU,EAAE,MAAM,EAAEL,KAAK,CAAG;IAClH,CAAC;EACL,CAAC,EAAE,CAACF,UAAU,CAAE,CAAC;EAErB,OACItB,iEAAA,cACIA,iEAAA,CAAC5B,gEAAa;IACV8B,KAAK,EAAC,cAAc;IACpBC,KAAK,EAAGmB,UAAY;IACpBlB,QAAQ,EAAGmB;EAAe,CAC7B,CAAC,EACFvB,iEAAA,CAAC8B,SAAS;IAACH,WAAW,EAAGA,WAAa;IAACD,KAAK,EAAGA;EAAO,CAAE,CACvD,CAAC;AAEd;AAEA,SAASI,SAASA,CAAAC,KAAA,EAA2B;EAAA,IAAzB;IAAEJ,WAAW;IAAED;EAAM,CAAC,GAAAK,KAAA;EACtC,IAAK,CAAEJ,WAAW,EAAG;IACjB,OAAO3B,iEAAA,CAAC3B,0DAAO,MAAE,CAAC;EACtB;EACA,IAAK,CAAEqD,KAAK,EAAEM,MAAM,EAAG;IACnB,OAAOhC,iEAAA,cAAK,YAAe,CAAC;EAChC;EAEA,OACIA,iEAAA;IAAOC,SAAS,EAAC;EAAqD,GAClED,iEAAA,gBACIA,iEAAA,aACIA,iEAAA,aAAI,OAAS,CAAC,EACdA,iEAAA;IAAIiC,KAAK,EAAE;MAACC,KAAK,EAAE;IAAG;EAAE,GAAC,SAAW,CACpC,CACD,CAAC,EACRlC,iEAAA,gBACM0B,KAAK,EAAES,GAAG,CAAInD,IAAI,IAChBgB,iEAAA;IAAIoC,GAAG,EAAEpD,IAAI,CAACe;EAAG,GACbC,iEAAA,aAAM7B,wEAAc,CAAEa,IAAI,CAACc,KAAK,CAACuC,QAAS,CAAO,CAAC,EAClDrC,iEAAA,aACIA,iEAAA,CAACU,cAAc;IAAC7B,MAAM,EAAEG,IAAI,CAACe;EAAG,CAAE,CAClC,CACJ,CACN,CACC,CACJ,CAAC;AAEhB;AAEAuC,MAAM,CAACC,gBAAgB,CACnB,MAAM,EACN,YAAY;EACR7D,0DAAM,CACFsB,iEAAA,CAACqB,UAAU,MAAE,CAAC,EACdmB,QAAQ,CAACC,aAAa,CAAE,yBAA0B,CACtD,CAAC;AACL,CAAC,EACD,KACJ,CAAC,C","sources":["webpack://05-recipe-card-esnext/external window [\"wp\",\"components\"]","webpack://05-recipe-card-esnext/external window [\"wp\",\"coreData\"]","webpack://05-recipe-card-esnext/external window [\"wp\",\"data\"]","webpack://05-recipe-card-esnext/external window [\"wp\",\"element\"]","webpack://05-recipe-card-esnext/external window [\"wp\",\"htmlEntities\"]","webpack://05-recipe-card-esnext/webpack/bootstrap","webpack://05-recipe-card-esnext/webpack/runtime/compat get default export","webpack://05-recipe-card-esnext/webpack/runtime/define property getters","webpack://05-recipe-card-esnext/webpack/runtime/hasOwnProperty shorthand","webpack://05-recipe-card-esnext/webpack/runtime/make namespace object","webpack://05-recipe-card-esnext/./src/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as coreDataStore } from '@wordpress/core-data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { SearchControl, Spinner, Button, TextControl, Modal } from '@wordpress/components';\r\nimport { useState, render } from '@wordpress/element';\r\n\r\nexport function EditPageForm( { pageId, onCancel, onSaveFinished } ) {\r\n    const { page, lastError, isSaving, hasEdits } = useSelect(\r\n        ( select ) => ( {\r\n            page: select( coreDataStore ).getEditedEntityRecord( 'postType', 'page', pageId ),\r\n            lastError: select( coreDataStore ).getLastEntitySaveError( 'postType', 'page', pageId ),\r\n            isSaving: select( coreDataStore ).isSavingEntityRecord( 'postType', 'page', pageId ),\r\n            hasEdits: select( coreDataStore ).hasEditsForEntityRecord( 'postType', 'page', pageId ),\r\n        } ),\r\n        [ pageId ]\r\n    );\r\n \r\n    const { saveEditedEntityRecord, editEntityRecord } = useDispatch( coreDataStore );\r\n    const handleSave = async () => {\r\n        const savedRecord = await saveEditedEntityRecord( 'postType', 'page', pageId );\r\n        if ( savedRecord ) {\r\n            onSaveFinished();\r\n        }\r\n    };\r\n    const handleChange = ( title ) =>  editEntityRecord( 'postType', 'page', page.id, { title } );\r\n \r\n    return (\r\n        <div className=\"my-gutenberg-form\">\r\n            <TextControl\r\n                label=\"Page title:\"\r\n                value={ page.title }\r\n                onChange={ handleChange }\r\n            />\r\n            { lastError ? (\r\n                <div className=\"form-error\">Error: { lastError.message }</div>\r\n            ) : (\r\n                false\r\n            ) }\r\n            <div className=\"form-buttons\">\r\n                <Button\r\n                    onClick={ handleSave }\r\n                    variant=\"primary\"\r\n                    disabled={ ! hasEdits || isSaving }\r\n                >\r\n                    { isSaving ? (\r\n                        <>\r\n                            <Spinner/>\r\n                            Saving\r\n                        </>\r\n                    ) : 'Save' }\r\n                </Button>\r\n                <Button\r\n                    onClick={ onCancel }\r\n                    variant=\"tertiary\"\r\n                    disabled={ isSaving }\r\n                >\r\n                    Cancel\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction PageEditButton( { pageId } ) {\r\n    const [ isOpen, setOpen ] = useState( false );\r\n    const openModal = () => setOpen( true );\r\n    const closeModal = () => setOpen( false );\r\n    return (\r\n        <>\r\n            <Button onClick={ openModal } variant=\"primary\">\r\n                Edit\r\n            </Button>\r\n            { isOpen && (\r\n                <Modal onRequestClose={ closeModal } title=\"Edit page\">\r\n                    <EditPageForm\r\n                        pageId={ pageId }\r\n                        onCancel={ closeModal }\r\n                        onSaveFinished={ closeModal }\r\n                    />\r\n                </Modal>\r\n            ) }\r\n        </>\r\n    );\r\n}\r\n\r\nexport function VanillaReactForm({ initialTitle }) {\r\n    const [title, setTitle] = useState( initialTitle );\r\n    return (\r\n        <TextControl\r\n            value={ title }\r\n            onChange={ setTitle }\r\n        />\r\n    );\r\n}\r\n\r\nfunction MyFirstApp() {\r\n    const [searchTerm, setSearchTerm] = useState( '' );\r\n    const query = {}\r\n    if (searchTerm) {\r\n        query.search = searchTerm\r\n    }\r\n\r\n   \r\n\r\n    const { pages, hasResolved } = useSelect(\r\n        ( select ) => {\r\n            return {\r\n                pages: select( coreDataStore ).getEntityRecords( 'postType', 'page', query ),\r\n                hasResolved: select( coreDataStore ).hasFinishedResolution( 'getEntityRecords', [ 'postType', 'page', query ] ),\r\n            }\r\n        }, [searchTerm] )\r\n\r\n    return (\r\n        <div>\r\n            <SearchControl\r\n                label=\"Search Pages\"\r\n                value={ searchTerm }\r\n                onChange={ setSearchTerm }\r\n            />\r\n            <PagesList hasResolved={ hasResolved } pages={ pages } />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction PagesList( { hasResolved, pages } ) {\r\n    if ( ! hasResolved ) {\r\n        return <Spinner />;\r\n    }\r\n    if ( ! pages?.length ) {\r\n        return <div>No results</div>;\r\n    }\r\n \r\n    return (\r\n        <table className=\"wp-list-table widefat fixed striped table-view-list\">\r\n            <thead>\r\n                <tr>\r\n                    <td>Title</td>\r\n                    <td style={{width: 120}}>Actions</td>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                { pages?.map( ( page ) => (\r\n                    <tr key={page.id}>\r\n                        <td>{ decodeEntities( page.title.rendered ) }</td>\r\n                        <td>\r\n                            <PageEditButton pageId={page.id} />\r\n                        </td>\r\n                    </tr>\r\n                ) ) }\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\nwindow.addEventListener(\r\n    'load',\r\n    function () {\r\n        render(\r\n            <MyFirstApp />,\r\n            document.querySelector( '#my-first-gutenberg-app' )\r\n        );\r\n    },\r\n    false\r\n);"],"names":["useSelect","useDispatch","store","coreDataStore","decodeEntities","SearchControl","Spinner","Button","TextControl","Modal","useState","render","EditPageForm","_ref","pageId","onCancel","onSaveFinished","page","lastError","isSaving","hasEdits","select","getEditedEntityRecord","getLastEntitySaveError","isSavingEntityRecord","hasEditsForEntityRecord","saveEditedEntityRecord","editEntityRecord","handleSave","savedRecord","handleChange","title","id","createElement","className","label","value","onChange","message","onClick","variant","disabled","Fragment","PageEditButton","_ref2","isOpen","setOpen","openModal","closeModal","onRequestClose","VanillaReactForm","_ref3","initialTitle","setTitle","MyFirstApp","searchTerm","setSearchTerm","query","search","pages","hasResolved","getEntityRecords","hasFinishedResolution","PagesList","_ref4","length","style","width","map","key","rendered","window","addEventListener","document","querySelector"],"sourceRoot":""}